<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CluckCDN Admin</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdui@1.0.1/dist/css/mdui.min.css"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto Sans TC">
    <link rel="shortcut icon" href="https://ci.cncn3.cn/f36237745411d246aa0379384e7bf342.png">
    <style>
        body {
          font-family: "Noto Sans TC", sans-serif;
        }
        .loading {
            position: fixed;
            z-index: 114514;
            width: 100vw;
            left: 0;
            bottom: 0;
        }
    </style>
</head>
<body class="mdui-drawer-body-left mdui-appbar-with-toolbar mdui-loaded">
    
    <div class="mdui-appbar mdui-appbar-fixed">
        <div class="mdui-toolbar mdui-color-blue-accent">
            <a href="javascript:;" class="mdui-btn mdui-btn-icon" mdui-drawer="{target: '#drawer'}"><i class="mdui-icon material-icons">menu</i></a>
            <a href="javascript:;" class="mdui-typo-title">CluckCDN</a>
            <div class="mdui-toolbar-spacer"></div>
        </div>
    </div>

    <div class="mdui-drawer" id="drawer">
        <ul class="mdui-list">
          <li class="mdui-list-item mdui-ripple" id="node_list" onclick="jump(this)">
            <i class="mdui-list-item-icon mdui-icon material-icons">view_list</i>
            <div class="mdui-list-item-content">節點列表</div>
          </li>
          <li class="mdui-list-item mdui-ripple" id="website_list" onclick="jump(this)">
            <i class="mdui-list-item-icon mdui-icon material-icons">view_list</i>
            <div class="mdui-list-item-content">網站列表</div>
          </li>
          <li class="mdui-subheader">Config</li>
          <li class="mdui-list-item mdui-ripple" id="vhost" onclick="jump(this)">
            <i class="mdui-list-item-icon mdui-icon material-icons">library_books</i>
            <div class="mdui-list-item-content">Vhost</div>
          </li>
          <li class="mdui-subheader">About</li>
          <a class="mdui-list-item mdui-ripple" href="https://github.com/cluckcdn" target="_break">
            <i class="mdui-list-item-icon mdui-icon material-icons">error</i>
            <div class="mdui-list-item-content">GitHub</div>
          </a>
        </ul>
    </div>

    <iframe onload="stopLoading()" style="width: 100%; height: calc(100vh - 66px);" frameborder="0" allowfullscreen="true" allow="autoplay" src="/page/node_list" id="page"></iframe>

    <!-- Loading -->
    <div class="mdui-progress loading" id="loading" style="opacity: 0;display: none;">
        <div class="mdui-progress-indeterminate"></div>
    </div>

    <!-- Script -->
    <script src="https://cdn.jsdelivr.net/npm/mdui@1.0.1/dist/js/mdui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script>

    <script>
        function jump(e){
            document.getElementById('page').src = `/page/${e.id}`;
            startLoading();
        }
        function startLoading(){
            let loading = $('#loading');
            loading.css("display", "");
            loading.animate({"opacity":"1"}, 300);
        }
        function stopLoading(){
            let loading = $('#loading');
            loading.animate({"opacity":"0"}, 300);
            setTimeout(()=>{
                loading.css("display", "none");
            }, 300);
        }
    </script>
</body>
</html>